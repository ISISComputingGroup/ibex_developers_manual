

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Motors &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Attocube" href="motors/Attocube.html" />
    <link rel="prev" title="Zero field controller design" href="magnets/Zero-field-controller-design.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../System-components.html">Backend System Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Specific-IOCs.html">Specific Devices &amp; IOCs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Cells.html">Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="Choppers.html">Choppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Cryogenics.html">Cryogenics</a></li>
<li class="toctree-l2"><a class="reference internal" href="DAE-and-the-ICP.html">DAE (Data Acquisition Electronics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="DAQ.html">DAQ (NI cDAQ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Fluxgates.html">Fluxgates &amp; Magnetometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Gas-And-Liquid-Handling-Systems.html">Gas and liquid handling systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="Imaging-Cameras.html">Imaging Cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="Loading-Rigs.html">Loading rigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Magnets.html">Magnets &amp; Large Power Supplies</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Motors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="motors/Attocube.html">Attocube</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Beckhoff.html">Beckhoff</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/EnginX-Sample-Positioner.html">EnginX Sample Positioner</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Galil.html">Galil</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Linmot.html">Linmot</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/McLennan-motors.html">McLennan</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Newport.html">Newport</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/PI-Rotation-Stage-setup.html">PI Rotation Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/SMC100.html">SMC100</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/SXD-Attocube.html">SXD Attocube</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Motors-Trouble-Shooting.html">Motors Trouble Shooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Adding-motor-IOC-to-global-motor-moving-and-stop-all.html">Add motor to global moving and stop all</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Clearing-the-Motors-are-Moving-state.html">Clearing the “motors moving” state</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Set-the-raw-position-of-the-motor-without-moving-it.html">Set the raw position of the motor without moving it</a></li>
<li class="toctree-l3"><a class="reference internal" href="motors/Add-support-for-motor-extras.html">Add support for motor extras</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Motors-Extensions.html">Motor Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multimeters.html">Multimeters</a></li>
<li class="toctree-l2"><a class="reference internal" href="Other.html">Other / Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="PLCs.html">PLCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Polarisers-and-Analysers.html">Polarisers &amp; Analysers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Power-Distribution-Unit-%28PDU%29.html">Power distribution units</a></li>
<li class="toctree-l2"><a class="reference internal" href="Power-Supplies.html">Power supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pressure-Monitors.html">Pressure monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="Reflectometry-IOC.html">Reflectometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="Rheometers.html">Rheometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Sample-Changers.html">Sample Changers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Sensors.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="Signal-Generators.html">Signal Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="Temperature-Controllers.html">Temperature Controllers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
      <li class="breadcrumb-item active">Motors</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/specific_iocs/Motors.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="motors">
<h1>Motors<a class="headerlink" href="#motors" title="Link to this heading"></a></h1>
<p>The basis of the motor IOCs at ISIS is the <a class="reference external" href="https://www3.aps.anl.gov/bcda/synApps/motor/index.html">motor record</a>, which aims to provide a generic interface to all motors regardless of make or model. The motor record is a single PV that contains a number of fields for things like motor speed, position, encoder readback etc. Note that this is very different from the way other IOCs would normally be set up, where each of these values would be its own PV.</p>
<p>Naming conventions for motor PVs are also different in that all motors are of the form <code class="docutils literal notranslate"><span class="pre">%PVPREFIX%MOT:MTR0101</span></code> where the first number gives the controller and the second gives the axis. These controller/axis numbers are what dictates the axis position in the table of motors.</p>
<p>For most motor IOCs the motor record itself is pulled in from <code class="docutils literal notranslate"><span class="pre">support\motor\master\motorApp\Db\motor.db</span></code>. However, the Galil contains its own copy of the motor record in <code class="docutils literal notranslate"><span class="pre">support\galil\master\GalilSup\Db</span></code>.</p>
<section id="ioc-structure">
<h2>IOC Structure<a class="headerlink" href="#ioc-structure" title="Link to this heading"></a></h2>
</section>
<section id="physical-hardware">
<h2>Physical Hardware<a class="headerlink" href="#physical-hardware" title="Link to this heading"></a></h2>
<p><img alt="Physical hardware" src="../_images/motor_hardware_structure.JPG" /></p>
<p>In general one motor controller will control a number of different axes (the actual motors themselves). Each axis will most likely give some feedback to the controller, the most common types of feedback are:</p>
<ul class="simple">
<li><p>Encoder: This is some form of external device that is measuring where the axis actually is. This is normally fed back to the controller in <em>steps</em>, the motor record will convert this to a distance using a supplied resolution.</p></li>
<li><p>Limits: A binary signal that tells the controller that the motor has reached the edge of it’s travel. There will be a high and a low limit for each direction of travel.</p></li>
<li><p>Home: A binary signal that tells the controller when the axis is at a known <em>home</em> position.</p></li>
</ul>
</section>
<section id="software-structure">
<h2>Software structure<a class="headerlink" href="#software-structure" title="Link to this heading"></a></h2>
<p>All motor IOCs have a macro called <code class="docutils literal notranslate"><span class="pre">MTRCTRL</span></code> which defines the controller number. The controller number is used to <a class="reference internal" href="../iocs/conventions/PV-Naming.html"><span class="doc std std-doc">create the PVs for each axis</span></a> and gives the row where each axis will appear on the table of motors.</p>
<p>Motors will tend to have a subset of the following *.cmd files for loading dbs:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Filename</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Location</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">st.cmd</span></code></p></td>
<td><p>Should be very simple, only loading the st-common.cmd</p></td>
<td><p>One in each iocBoot folder for each IOC</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">st-common.cmd</span></code></p></td>
<td><p>The main cmd for the IOC</p></td>
<td><p>A single version in the first IOC</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">st-ctrl.cmd</span></code></p></td>
<td><p>Creates IF macros for which controller we’re loading</p></td>
<td><p>A single version in the first IOC</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">st-max-axis.cmd</span></code></p></td>
<td><p>Calculates the maximum axis we need to load</p></td>
<td><p>A single file in the first IOC</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">st-axis.cmd</span></code></p></td>
<td><p>Loads each individual axis</p></td>
<td><p>A single file in the first IOC</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">st-motor.cmd</span></code></p></td>
<td><p>Loads the actual db files for each individual axis</p></td>
<td><p>A single file in the first IOC</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">galilXX.cmd</span></code></p></td>
<td><p>Sets up the physical connection for a Galil</p></td>
<td><p>A file for each galil in <code class="docutils literal notranslate"><span class="pre">configurations\galil</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="motors-used-at-isis">
<h2>Motors used at ISIS<a class="headerlink" href="#motors-used-at-isis" title="Link to this heading"></a></h2>
<p>The motors currently used at ISIS are:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="motors/Attocube.html">Attocube</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Beckhoff.html">Beckhoff</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/EnginX-Sample-Positioner.html">EnginX Sample Positioner</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Galil.html">Galil</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Linmot.html">Linmot</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/McLennan-motors.html">McLennan</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Newport.html">Newport</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/PI-Rotation-Stage-setup.html">PI Rotation Stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/SMC100.html">SMC100</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/SXD-Attocube.html">SXD Attocube</a></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See <a class="reference internal" href="Motors-Extensions.html"><span class="doc std std-doc">Motor Extensions</span></a> for information about extra configuration which can be applied to motion controllers, for example jaws.</p>
</div>
</section>
<section id="troubleshooting-information">
<h2>Troubleshooting information<a class="headerlink" href="#troubleshooting-information" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="motors/Motors-Trouble-Shooting.html">Motors Trouble Shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Adding-motor-IOC-to-global-motor-moving-and-stop-all.html">Add motor to global moving and stop all</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Clearing-the-Motors-are-Moving-state.html">Clearing the “motors moving” state</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Set-the-raw-position-of-the-motor-without-moving-it.html">Set the raw position of the motor without moving it</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors/Add-support-for-motor-extras.html">Add support for motor extras</a></li>
</ul>
</div>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="motor_extensions/IMAT-Lens-Adjustment.html"><span class="doc std std-doc">IMAT Lens Adjustment</span></a></p></li>
<li><p><a class="reference internal" href="motor_extensions/Motion-Set-points.html"><span class="doc std std-doc">Motion Setpoints</span></a></p></li>
<li><p><a class="reference internal" href="motor_extensions/Creating-soft-motors-to-control-real-motors.html"><span class="doc std std-doc">Creating soft motors to control real motors</span></a> This is useful if you need some logic for transformations between axes.</p></li>
<li><p><a class="reference internal" href="motor_extensions/Portable-Eulerian-Cradle.html"><span class="doc std std-doc">Portable Eulerian Cradle</span></a> see on ENGINX</p></li>
<li><p><a class="reference internal" href="motor_extensions/SANS2D-Front-Beam-Stop-inhibit-movement.html"><span class="doc std std-doc">SANS2D Front Beam Stop inhibit movement</span></a></p></li>
<li><p><a class="reference internal" href="../iocs/testing/Disable-records.html"><span class="doc std std-doc">Disabling motor from view in the motor table</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="magnets/Zero-field-controller-design.html" class="btn btn-neutral float-left" title="Zero field controller design" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="motors/Attocube.html" class="btn btn-neutral float-right" title="Attocube" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>