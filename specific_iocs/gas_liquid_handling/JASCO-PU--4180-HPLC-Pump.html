

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JASCO HPLC Pump &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Knauer 1050 HPLC Pump" href="Knauer-1050-HPLC-Pump.html" />
    <link rel="prev" title="Edwards TIC" href="Edwards-Turbo-Instrument-Controller.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Cells.html">Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Choppers.html">Choppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cryogenics.html">Cryogenics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAE-and-the-ICP.html">DAE (Data Acquisition Electronics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAQ.html">DAQ (NI cDAQ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Datastreaming.html">Data Streaming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fluxgates.html">Fluxgates &amp; Magnetometers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Gas-And-Liquid-Handling-Systems.html">Gas and liquid handling systems</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="BioLogic-MPS-70-4-%28stopped-flow%29.html">BioLogic MPS 70-4</a></li>
<li class="toctree-l3"><a class="reference internal" href="DMA4500m-Density-Meter.html">DMA4500m Density Meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Edwards-Turbo-Instrument-Controller.html">Edwards TIC</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">JASCO HPLC Pump</a></li>
<li class="toctree-l3"><a class="reference internal" href="Knauer-1050-HPLC-Pump.html">Knauer 1050 HPLC Pump</a></li>
<li class="toctree-l3"><a class="reference internal" href="Knauer-Valve-Unifier.html">Knauer Valve Unifier (VU4.1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Knauer-k-6.html">Knauer K-6</a></li>
<li class="toctree-l3"><a class="reference internal" href="MKS_PR4000B.html">MKS PR4000B</a></li>
<li class="toctree-l3"><a class="reference internal" href="NIMA-Trough.html">NIMA Trough</a></li>
<li class="toctree-l3"><a class="reference internal" href="WPI-Aladdin-Syringe-Pump.html">WPI Aladdin Syringe Pump</a></li>
<li class="toctree-l3"><a class="reference internal" href="WPI-SP2XX-Syringe-Pump.html">WPI SP2XX Syringe Pump</a></li>
<li class="toctree-l3"><a class="reference internal" href="Watson-Marlow-323-Peristaltic-Pump.html">Watson-Marlow 323 Peristaltic Pump</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Imaging-Cameras.html">Imaging Cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Loading-Rigs.html">Loading rigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Magnets.html">Magnets &amp; Large Power Supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Motors.html">Motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Motors-Extensions.html">Motor Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Multimeters.html">Multimeters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Other.html">Other / Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PLCs.html">PLCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Polarisers-and-Analysers.html">Polarisers &amp; Analysers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Distribution-Unit-%28PDU%29.html">Power distribution units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Supplies.html">Power supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Pressure-Monitors.html">Pressure monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reflectometry-IOC.html">Reflectometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Rheometers.html">Rheometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sample-Changers.html">Sample Changers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sensors.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Signal-Generators.html">Signal Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Temperature-Controllers.html">Temperature Controllers</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
          <li class="breadcrumb-item"><a href="../Gas-And-Liquid-Handling-Systems.html">Gas and liquid handling systems</a></li>
      <li class="breadcrumb-item active">JASCO HPLC Pump</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/specific_iocs/gas_liquid_handling/JASCO-PU--4180-HPLC-Pump.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="jasco-hplc-pump">
<h1>JASCO HPLC Pump<a class="headerlink" href="#jasco-hplc-pump" title="Link to this heading"></a></h1>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h2>
<p>Documentation is available for the pump at <code class="docutils literal notranslate"><span class="pre">\\ISIS\shares\ISIS_Experiment_Controls\Manuals\Jasco__PU-4180</span> <span class="pre">HPLC</span> <span class="pre">Pump</span></code></p>
</section>
<section id="connection-details">
<h2>Connection Details<a class="headerlink" href="#connection-details" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RS-232C Specifications</p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Baud rate</p></td>
<td><p>4800 Baud</p></td>
</tr>
<tr class="row-odd"><td><p>Stop bits</p></td>
<td><p>2 bit</p></td>
</tr>
<tr class="row-even"><td><p>Parity</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>Data length</p></td>
<td><p>8 bit</p></td>
</tr>
<tr class="row-even"><td><p>Flow control</p></td>
<td><p>Xon/Xoff control</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul class="simple">
<li><p>Communication command is terminated with CR.</p></li>
<li><p>Communication return is terminated with CR and LF.</p></li>
<li><p>When connecting the pump to the MOXA, be sure to use a different port from the Knauer pump.  This will allow the Knauer to use its own port as the one for the Jasco will be locked by its IOC (which runs continuously).</p></li>
</ul>
</section>
<section id="simulation">
<h2>Simulation<a class="headerlink" href="#simulation" title="Link to this heading"></a></h2>
<p>The driver has both a state machine and fairly complex logic in the IOC, therefore RECSIM for the device is not particularly supported.</p>
</section>
<section id="pump-control">
<h2>Pump Control<a class="headerlink" href="#pump-control" title="Link to this heading"></a></h2>
<p>The device has the ability to control a number of parameters for a pump:</p>
<ul class="simple">
<li><p>Flowrate (in mL/min): <code class="docutils literal notranslate"><span class="pre">FLOWRATE:SP</span></code></p></li>
<li><p>Pressure Maximum and Minimum (in kg/cm^2): <code class="docutils literal notranslate"><span class="pre">PRSSURE:MAX:SP</span></code>, <code class="docutils literal notranslate"><span class="pre">PRESSURE:MIN:SP</span></code>
– Setting these values will result in an error output and stop the pump if exceeded during a executed program.</p></li>
<li><p>Composition components (A, B, and, C in %): <code class="docutils literal notranslate"><span class="pre">COMP:{}:SP</span></code>.</p></li>
</ul>
<p>The user can then start the pump by using the <code class="docutils literal notranslate"><span class="pre">START:SP</span></code> record. The pump can be stopped using the <code class="docutils literal notranslate"><span class="pre">STOP:SP</span></code></p>
<p>The user can also select a timed run for either a set time or volume. The user must first set a time <code class="docutils literal notranslate"><span class="pre">TIME:RUN:SP</span></code> (in seconds) or volume <code class="docutils literal notranslate"><span class="pre">TIME:VOL:SP</span></code> (in mL). Then a pump can begin by using the <code class="docutils literal notranslate"><span class="pre">TIMED:SP</span></code> record.</p>
<p>The calculations for the time for a set volume (done in <code class="docutils literal notranslate"><span class="pre">TIME:VOL:CALCRUN</span></code>) and the calculation for the pumped volume for a set time (done in <code class="docutils literal notranslate"><span class="pre">TIME:RUN:CALCVOL</span></code>) use <code class="docutils literal notranslate"><span class="pre">FLOWRATE:SP:RBV</span></code>, not <code class="docutils literal notranslate"><span class="pre">FLOWRATE:SP</span></code>. The RBV value is different from the setpoint if the setpoint has never been set, in which case using the setpoint would produce an invalid time or volume.</p>
<p>Note that the Jasco IOC only allows one of these two values to be modifiable at a time (which then sets the other) - which method is used needs to be explicitly set via <code class="docutils literal notranslate"><span class="pre">TIME:CALC:SP</span></code>. This is to avoid race conditions i.e. if a user sets both <code class="docutils literal notranslate"><span class="pre">TIME:VOL:SP</span></code>and <code class="docutils literal notranslate"><span class="pre">TIME:RUN:SP</span></code> at the same time (for example via caLab or scripting) they could not be sure which one wins.</p>
<p>NB: The devices display screen does not show current pump status information when in operation.</p>
</section>
<section id="additional-commands-not-in-the-manual">
<h2>Additional commands not in the manual<a class="headerlink" href="#additional-commands-not-in-the-manual" title="Link to this heading"></a></h2>
<p>The following status command has been confirmed by JASCO and is used in the IOC driver, although it is not documented in the manual:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span> <span class="p">:</span> <span class="p">{</span> <span class="n">status</span> <span class="n">load</span> <span class="n">p</span> <span class="p">}</span>
<span class="n">A</span> <span class="n">status</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">bitwise</span> <span class="n">OR</span><span class="o">.</span>

<span class="n">Bit0</span><span class="o">=</span><span class="mi">0</span><span class="p">:</span> <span class="n">Pump</span> <span class="n">off</span>
<span class="n">Bit0</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span> <span class="n">Pump</span> <span class="n">on</span>
<span class="n">Bit1</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span> <span class="n">Program</span> <span class="n">hold</span>
<span class="p">(</span><span class="n">Bit2</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span> <span class="n">Reserved</span><span class="p">)</span>
<span class="n">Bit4</span><span class="o">-</span><span class="mi">5</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span> <span class="n">Program</span> <span class="n">stop</span>
<span class="n">Bit4</span><span class="o">-</span><span class="mi">5</span><span class="o">=</span><span class="mi">2</span><span class="p">:</span> <span class="n">Initial</span> <span class="n">run</span>
<span class="n">Bit4</span><span class="o">-</span><span class="mi">5</span><span class="o">=</span><span class="mi">3</span><span class="p">:</span> <span class="n">Program</span> <span class="n">run</span>

<span class="n">Data</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">returned</span> <span class="k">as</span> <span class="n">follows</span><span class="p">:</span>
 <span class="mi">0</span><span class="p">:</span> <span class="n">Pump</span> <span class="n">off</span>
 <span class="mi">1</span><span class="p">:</span> <span class="n">Pump</span> <span class="n">on</span> <span class="p">(</span><span class="n">Program</span> <span class="n">stop</span><span class="p">)</span>
<span class="mi">33</span><span class="p">:</span> <span class="n">Initial</span> <span class="n">run</span> <span class="p">(</span><span class="n">Initial</span> <span class="n">run</span><span class="p">,</span> <span class="n">Pump</span> <span class="n">on</span><span class="p">)</span>
<span class="mi">49</span><span class="p">:</span> <span class="n">Program</span> <span class="n">run</span> <span class="p">(</span><span class="n">Program</span> <span class="n">run</span><span class="p">,</span> <span class="n">Pump</span> <span class="n">on</span><span class="p">)</span>
<span class="mi">51</span><span class="p">:</span> <span class="n">Program</span> <span class="n">hold</span> <span class="p">(</span><span class="n">Program</span> <span class="n">run</span><span class="p">,</span> <span class="n">Pump</span> <span class="n">on</span><span class="p">,</span> <span class="n">Program</span> <span class="n">hold</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<p>There are three known issues with the pump that have been confirmed by JASCO. They have detailed the potential issues and the work around that is associated with them. The design of the pumps driver should mitigate them, but this information should help in the event these are encountered during support:</p>
<section id="pump-stops-responding">
<h3>Pump stops responding<a class="headerlink" href="#pump-stops-responding" title="Link to this heading"></a></h3>
<p>This issue involves the pump being hard locked, and completely unresponsive. No data will be returned from the device, and the front panel will be unresponsive. The only way to resolve this is to power cycle the device. This is caused by the <code class="docutils literal notranslate"><span class="pre">flowrate</span> <span class="pre">set</span></code> command being executed at the same moment as a program step (such as setting component values). A script is available in the IOC directory called <code class="docutils literal notranslate"><span class="pre">exercise_jasco4180.py</span></code> that can be used to test if the device crashes under use. The driver has been designed to be resilient against this crash and should always successfully finish. This can be used to ensure new driver changes do not introduce device breaking bugs.</p>
</section>
<section id="pump-freezes-with-program-busy">
<h3>Pump freezes with ‘Program busy’<a class="headerlink" href="#pump-freezes-with-program-busy" title="Link to this heading"></a></h3>
<p>This issue involves the pump freezing and not interpreting commands briefly, and can result in commands being skipped. This is caused by the <code class="docutils literal notranslate"><span class="pre">fileno</span> <span class="pre">set</span></code> (Set a program file number) being executed while the run status is in <code class="docutils literal notranslate"><span class="pre">Initial</span></code> or <code class="docutils literal notranslate"><span class="pre">Run</span></code>. When the program file is opened other commands not related to creating a time program will not be accepted. You must ensure the program is closed after setting the time program.</p>
</section>
<section id="composition-control-is-locked">
<h3>Composition control is locked<a class="headerlink" href="#composition-control-is-locked" title="Link to this heading"></a></h3>
<p>This issue involves the composition being locked into a manual mode, where no compositions will be accepted remotely, and the single channel (100% A, B, C, or, D) can only be switched using the front panel. This occurs when a time program has not been written correctly. For example, if the maximum number of lines in a program (64) has been exceeded or not closed. This should be resolved by first ensuring the file is closed, using <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">fileno</span> <span class="pre">set</span></code>, and then performing a re-run program using initial conditions <code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">pump</span> <span class="pre">set</span></code>. Note that you might want to ensure you have a flow rate of 0 to ensure no liquid is pumped while troubleshooting.</p>
</section>
<section id="target-runtime-calculation-logic">
<h3>Target runtime calculation logic<a class="headerlink" href="#target-runtime-calculation-logic" title="Link to this heading"></a></h3>
<p>Work was completed on the JASCO to update its calculation logic for pump runtime in <a class="reference external" href="https://github.com/ISISComputingGroup/IBEX/issues/4720">#4720</a>. This flow diagram illustrates this:</p>
<p><img alt="Runtime calculation logic" src="../../_images/jasco_runtime_logic_flow.png" /></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Edwards-Turbo-Instrument-Controller.html" class="btn btn-neutral float-left" title="Edwards TIC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Knauer-1050-HPLC-Pump.html" class="btn btn-neutral float-right" title="Knauer 1050 HPLC Pump" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Feb 27, 2026.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>