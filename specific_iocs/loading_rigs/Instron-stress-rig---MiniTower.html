

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instron stress rig (MiniTower) &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Magnets &amp; Large Power Supplies" href="../Magnets.html" />
    <link rel="prev" title="Instron stress rig (GPIB)" href="Instron-stress-rig.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Cells.html">Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Choppers.html">Choppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cryogenics.html">Cryogenics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAE-and-the-ICP.html">DAE (Data Acquisition Electronics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAQ.html">DAQ (NI cDAQ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fluxgates.html">Fluxgates &amp; Magnetometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Gas-And-Liquid-Handling-Systems.html">Gas and liquid handling systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Imaging-Cameras.html">Imaging Cameras</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Loading-Rigs.html">Loading rigs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Instron-stress-rig.html">Instron stress rig (GPIB)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Instron stress rig (MiniTower)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Magnets.html">Magnets &amp; Large Power Supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Motors.html">Motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Motors-Extensions.html">Motor Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Multimeters.html">Multimeters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Other.html">Other / Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PLCs.html">PLCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Polarisers-and-Analysers.html">Polarisers &amp; Analysers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Distribution-Unit-%28PDU%29.html">Power distribution units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Supplies.html">Power supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Pressure-Monitors.html">Pressure monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reflectometry-IOC.html">Reflectometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Rheometers.html">Rheometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sample-Changers.html">Sample Changers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sensors.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Signal-Generators.html">Signal Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Temperature-Controllers.html">Temperature Controllers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
          <li class="breadcrumb-item"><a href="../Loading-Rigs.html">Loading rigs</a></li>
      <li class="breadcrumb-item active">Instron stress rig (MiniTower)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/specific_iocs/loading_rigs/Instron-stress-rig---MiniTower.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="instron-stress-rig-minitower">
<h1>Instron stress rig (MiniTower)<a class="headerlink" href="#instron-stress-rig-minitower" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page relates to a newer-style ethernet-connected stress rig, which we talk to via a manufacturer DLL. For documentation about the GPIB-connected rig (i.e. the 50kN rig on ENGIN-X) see <a class="reference internal" href="Instron-stress-rig.html"><span class="doc std std-doc">Instron-stress-rig (GPIB)</span></a></p>
</div>
<section id="physical-setup">
<h2>Physical setup<a class="headerlink" href="#physical-setup" title="Link to this heading"></a></h2>
<p>The stress rig has several components:</p>
<ul class="simple">
<li><p>The physical rig hardware, in which the sample sits.</p></li>
<li><p>A controller, which plugs directly into the physical rig hardware, and has an ethernet port on the back</p></li>
<li><p>The ethernet port on the controller is plugged into the control PC via a <strong>direct</strong> ethernet connection. This connection should <strong>not</strong> be going via a switch or the ISIS network in any way.</p>
<ul>
<li><p>Note, this “control PC” is <strong>NOT</strong> the <code class="docutils literal notranslate"><span class="pre">NDX</span></code> machine or equivalent, it is a separate machine. Currently a small-form-factor PC named <code class="docutils literal notranslate"><span class="pre">enginx-stress-1</span></code></p></li>
<li><p>The network between the stress rig controller and <code class="docutils literal notranslate"><span class="pre">enginx-stress-1</span></code> is a point-to-point private network. The relevant network adapter on <code class="docutils literal notranslate"><span class="pre">enginx-stress-1</span></code> should be set to an IP address of <code class="docutils literal notranslate"><span class="pre">10.0.0.1</span></code> with netmask <code class="docutils literal notranslate"><span class="pre">255.0.0.0</span></code>. The stress rig controller is on <code class="docutils literal notranslate"><span class="pre">10.0.0.2</span></code> and should respond to <code class="docutils literal notranslate"><span class="pre">ping</span></code> if it is working.</p></li>
</ul>
</li>
<li><p>The control PC has a physically separate RJ45 port (currently a USB-to-ethernet converter) used to connect to the ISIS network.</p></li>
<li><p>There is an “MMI” controller which plugs into the control PC via USB - and also simultaneously into the Instron controller via a separate cable.</p></li>
</ul>
<p>The manufacturer software (“Console”) <strong>MUST</strong> be running on the control PC for the rig to work. Some functions (calibrations, setup, advanced diagnostics) are only available via the “console” software.</p>
</section>
<section id="ioc">
<h2>IOC<a class="headerlink" href="#ioc" title="Link to this heading"></a></h2>
<p>We will run an IOC on the control PC, which can be viewed and eventually controlled from the NDX.</p>
<p>Due to needing to link against the 32-bit manufacturer DLL (<code class="docutils literal notranslate"><span class="pre">Arby.dll</span></code>) for communication, we need to deploy a 32-bit EPICS build to the control PC. Ticket <a class="reference external" href="https://github.com/ISISComputingGroup/IBEX/issues/7326">https://github.com/ISISComputingGroup/IBEX/issues/7326</a> will define our approach to this computer in more detail.</p>
<p>The manufacturer software (“Console”) must be running in the background while the IOC is attempting to talk - otherwise the rig will not work.</p>
</section>
<section id="logs">
<h2>Logs<a class="headerlink" href="#logs" title="Link to this heading"></a></h2>
<p>As well as the <code class="docutils literal notranslate"><span class="pre">INSTONA</span></code> IOC log there is the <code class="docutils literal notranslate"><span class="pre">RecentLogA.txt</span></code> file in <code class="docutils literal notranslate"><span class="pre">C:\ProgramData\Instron\Console\Logs</span></code></p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="cannot-connect-via-remote-desktop-to-enginx-stress-1">
<h3>Cannot connect via remote desktop to <code class="docutils literal notranslate"><span class="pre">enginx-stress-1</span></code><a class="headerlink" href="#cannot-connect-via-remote-desktop-to-enginx-stress-1" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Check the machine is powered on - it travels with the stress rig and may not necessarily always be plugged in!</p></li>
<li><p>Check the machine is connected to the ISIS network via it’s motherboard port, and to the stress rig via the USB-ethernet adapter.</p></li>
<li><p>Connect a monitor to find out the machine’s IP address - it is sometimes slow to update in the nameserver, but can be accessed via remote desktop if you know the IP directly.</p></li>
<li><p>For username/password details for this machine, see keeper.</p></li>
</ul>
</section>
<section id="arbyspy">
<h3>ArbySPY<a class="headerlink" href="#arbyspy" title="Link to this heading"></a></h3>
<p>The Instron software contains a module called “ArbySPY” which can be used to trace all commands being sent to the rig, no matter their source. As such it is possible to find out what Console is doing to make sure that IBEX can replicate these same commands.</p>
</section>
<section id="command-rejected-frame-in-control">
<h3>Command rejected - frame in control<a class="headerlink" href="#command-rejected-frame-in-control" title="Link to this heading"></a></h3>
<p>Solution: You need to press the physical button on the front of the stress rig to restore computer control. This cannot be done automatically as it trips the hydraulics intermittently when attempted</p>
</section>
<section id="cannot-change-channel-function-inhibited-channel-not-calibrated">
<h3>Cannot change channel - “function inhibited - channel not calibrated”<a class="headerlink" href="#cannot-change-channel-function-inhibited-channel-not-calibrated" title="Link to this heading"></a></h3>
<p>Solution: Ask scientists to load a calibration for the relevant channel using the Console application.</p>
</section>
<section id="setpoints-are-relative-rather-than-absolute">
<h3>Setpoints are relative rather than absolute<a class="headerlink" href="#setpoints-are-relative-rather-than-absolute" title="Link to this heading"></a></h3>
<p>Verify that the <code class="docutils literal notranslate"><span class="pre">C1,1</span></code> command is <strong>NOT</strong> being used - this is buggy in the Arby interface. Need to use the following sequence instead (this is already done by the protocol file - but any arbitrary commands sent to the rig may also need to be adjusted):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C500</span><span class="p">,</span><span class="mi">1</span><span class="p">;</span><span class="n">C38</span><span class="p">,</span><span class="mi">1</span>
<span class="n">C916</span><span class="p">,</span><span class="mi">0</span>
<span class="n">C914</span><span class="p">,</span><span class="mi">4</span>
<span class="n">C916</span><span class="p">,</span><span class="mi">2</span>
<span class="n">C372</span>
</pre></div>
</div>
</section>
<section id="testlog-keeps-popping-up-complaining-about-next-mode-must-be-enabled-to-send-this-command-or-similar">
<h3>“TestLog” keeps popping up complaining about “next mode must be enabled to send this command” or similar<a class="headerlink" href="#testlog-keeps-popping-up-complaining-about-next-mode-must-be-enabled-to-send-this-command-or-similar" title="Link to this heading"></a></h3>
<p>This happens when a move is started from IBEX. We are not sure why the rig believes C38 is invalid - but it <strong>is</strong> required in order to actually start the move.</p>
<p>Solution: ignore these spurious errors.</p>
</section>
<section id="testlog-complains-about-various-things-as-the-ioc-is-started">
<h3>“TestLog” complains about various things as the IOC is started<a class="headerlink" href="#testlog-complains-about-various-things-as-the-ioc-is-started" title="Link to this heading"></a></h3>
<p>Solution: ignore these errors - they do not impact functionality.</p>
</section>
<section id="testlog-complains-about-a-wide-variety-of-problems-frame-error-fan-error-power-state-non-corporate-pack-detected-crosshead-unclamped-emergency-stop-pressed-ac-power-failure">
<h3>“TestLog” complains about a wide variety of problems (frame error, fan error, power state, non-corporate pack detected, Crosshead unclamped, Emergency stop pressed, AC power failure)<a class="headerlink" href="#testlog-complains-about-a-wide-variety-of-problems-frame-error-fan-error-power-state-non-corporate-pack-detected-crosshead-unclamped-emergency-stop-pressed-ac-power-failure" title="Link to this heading"></a></h3>
<p>This happens if the rig controller is switched off.</p>
<p>Solution: turn the rig controller back on (and wait ~2 mins for it to connect to console again)</p>
</section>
<section id="cannot-start-the-instron-console-application">
<h3>Cannot start the Instron “Console” application<a class="headerlink" href="#cannot-start-the-instron-console-application" title="Link to this heading"></a></h3>
<p>This has been seen on a previous stress rig control PC. We are unsure of the cause.</p>
<p>Consider how much time you want to spend on this issue - we can only provide very limited support for Instron’s console application, and complex support queries might be best to send to Instron directly.</p>
<p>It is possible to re-install the software from <code class="docutils literal notranslate"><span class="pre">\\isis\shares\ISIS_Experiment_Controls\Manuals\Instron_Stress_Rig\MiniTower</span> <span class="pre">(Ethernet</span> <span class="pre">-</span> <span class="pre">Arby)\installer</span></code></p>
<ul class="simple">
<li><p>This should only be attempted as a last resort and will take some time to set up, and will need instrument scientist involvement to recommission/recalibrate the rig once done.</p></li>
<li><p>When it asks for a system ID, this is on a sticker on the rig itself, and also stored at <code class="docutils literal notranslate"><span class="pre">\\isis\shares\ISIS_Experiment_Controls\Manuals\Instron_Stress_Rig\MiniTower</span> <span class="pre">(Ethernet</span> <span class="pre">-</span> <span class="pre">Arby)\ENGIN-X</span> <span class="pre">Instron</span> <span class="pre">Control</span> <span class="pre">Tower</span> <span class="pre">System</span> <span class="pre">ID.jpg</span></code></p></li>
<li><p>You will need to restore calibrations from <code class="docutils literal notranslate"><span class="pre">\\isis\shares\ISIS_Experiment_Controls\Manuals\Instron_Stress_Rig\MiniTower</span> <span class="pre">(Ethernet</span> <span class="pre">-</span> <span class="pre">Arby)\ENGIN-X</span> <span class="pre">100kN</span> <span class="pre">rig</span> <span class="pre">calibration</span> <span class="pre">files</span> <span class="pre">2022-09-01</span></code> after reinstalling</p></li>
</ul>
</section>
<section id="hydraulics-randomly-trip">
<h3>Hydraulics randomly trip<a class="headerlink" href="#hydraulics-randomly-trip" title="Link to this heading"></a></h3>
<p>Cause is currently unknown.</p>
</section>
<section id="communications-sometimes-randomly-fail">
<h3>Communications sometimes randomly fail<a class="headerlink" href="#communications-sometimes-randomly-fail" title="Link to this heading"></a></h3>
<p>Cause is currently unknown.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Instron-stress-rig.html" class="btn btn-neutral float-left" title="Instron stress rig (GPIB)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Magnets.html" class="btn btn-neutral float-right" title="Magnets &amp; Large Power Supplies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>