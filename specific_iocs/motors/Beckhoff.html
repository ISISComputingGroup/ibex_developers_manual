

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Beckhoff &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Beckhoff IOC Architecture" href="beckhoff/Beckhoff-architecture.html" />
    <link rel="prev" title="Attocube" href="Attocube.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Cells.html">Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Choppers.html">Choppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cryogenics.html">Cryogenics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAE-and-the-ICP.html">DAE (Data Acquisition Electronics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAQ.html">DAQ (NI cDAQ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fluxgates.html">Fluxgates &amp; Magnetometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Gas-And-Liquid-Handling-Systems.html">Gas and liquid handling systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Imaging-Cameras.html">Imaging Cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Loading-Rigs.html">Loading rigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Magnets.html">Magnets &amp; Large Power Supplies</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Motors.html">Motors</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Attocube.html">Attocube</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Beckhoff</a><ul>
<li class="toctree-l4"><a class="reference internal" href="beckhoff/Beckhoff-architecture.html">Beckhoff IOC Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="beckhoff/Beckhoff-commissioning.html">Beckhoff commissioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="beckhoff/Beckhoff-testing.html">Beckhoff testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="beckhoff/Beckhoff-troubleshooting.html">Beckhoff troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="EnginX-Sample-Positioner.html">EnginX Sample Positioner</a></li>
<li class="toctree-l3"><a class="reference internal" href="Galil.html">Galil</a></li>
<li class="toctree-l3"><a class="reference internal" href="Linmot.html">Linmot</a></li>
<li class="toctree-l3"><a class="reference internal" href="McLennan-motors.html">McLennan</a></li>
<li class="toctree-l3"><a class="reference internal" href="Newport.html">Newport</a></li>
<li class="toctree-l3"><a class="reference internal" href="PI-Rotation-Stage-setup.html">PI Rotation Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="SMC100.html">SMC100</a></li>
<li class="toctree-l3"><a class="reference internal" href="SXD-Attocube.html">SXD Attocube</a></li>
<li class="toctree-l3"><a class="reference internal" href="Motors-Trouble-Shooting.html">Motors Trouble Shooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="Adding-motor-IOC-to-global-motor-moving-and-stop-all.html">Add motor to global moving and stop all</a></li>
<li class="toctree-l3"><a class="reference internal" href="Clearing-the-Motors-are-Moving-state.html">Clearing the “motors moving” state</a></li>
<li class="toctree-l3"><a class="reference internal" href="Set-the-raw-position-of-the-motor-without-moving-it.html">Set the raw position of the motor without moving it</a></li>
<li class="toctree-l3"><a class="reference internal" href="Add-support-for-motor-extras.html">Add support for motor extras</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Motors-Extensions.html">Motor Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Multimeters.html">Multimeters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Other.html">Other / Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PLCs.html">PLCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Polarisers-and-Analysers.html">Polarisers &amp; Analysers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Distribution-Unit-%28PDU%29.html">Power distribution units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Supplies.html">Power supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Pressure-Monitors.html">Pressure monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reflectometry-IOC.html">Reflectometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Rheometers.html">Rheometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sample-Changers.html">Sample Changers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sensors.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Signal-Generators.html">Signal Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Temperature-Controllers.html">Temperature Controllers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
          <li class="breadcrumb-item"><a href="../Motors.html">Motors</a></li>
      <li class="breadcrumb-item active">Beckhoff</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/specific_iocs/motors/Beckhoff.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="beckhoff">
<h1>Beckhoff<a class="headerlink" href="#beckhoff" title="Link to this heading"></a></h1>
<p>Beckhoff motor controllers are the most complex in use at ISIS and will be the standard going forward. A Beckhoff controller is basically a generic PLC that includes a number of useful functions out of the box for running motors. The generality of a Beckhoff means that it will most likely be used in the future for measuring and controlling other hardware outside of motion. A more detailed presentation has been given about Beckhoffs in a <a class="reference internal" href="../../processes/meetings/Code-Chats-and-Lightning-Talks.html"><span class="doc std std-doc">Code Chat</span></a> entitled Layers, Onions and Ogres.</p>
<p>Current Beckhoff installations are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Instrument</p></th>
<th class="head"><p>Device</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LARMOR</p></td>
<td><p>Rotation Bench</p></td>
</tr>
<tr class="row-odd"><td><p>IMAT</p></td>
<td><p>Large sample bench, controlling rotation and height</p></td>
</tr>
<tr class="row-even"><td><p>SANS2D</p></td>
<td><p>Guides (5 in total) - note apertures are still Galil-controlled</p></td>
</tr>
<tr class="row-odd"><td><p>CHIPIR</p></td>
<td><p>Filter set</p></td>
</tr>
<tr class="row-even"><td><p>SANDALS</p></td>
<td><p>Jaws and Sample changer</p></td>
</tr>
<tr class="row-odd"><td><p>CRISP</p></td>
<td><p>Jaws (running old firmware for now)</p></td>
</tr>
<tr class="row-even"><td><p>MUONFE</p></td>
<td><p>Barn doors (in progress)</p></td>
</tr>
<tr class="row-odd"><td><p>INTER</p></td>
<td><p>Secondary flight path upgrade (INTER tank)</p></td>
</tr>
<tr class="row-even"><td><p>SURF</p></td>
<td><p>Critical axis (in progress)</p></td>
</tr>
</tbody>
</table>
<section id="code-on-the-controller">
<h2>Code on the controller<a class="headerlink" href="#code-on-the-controller" title="Link to this heading"></a></h2>
<p>Unlike most other devices (except the Galil) the computing group has some oversight over the PLC code written on the controller. It has been agreed that this code will mostly be written by IDD, with oversight from computing to guide good programming practices, assist in debugging etc. Code running on the PLC is kept in source control <a class="reference external" href="https://github.com/ISIS-Motion-Control">here</a>.</p>
<p>The <a class="reference external" href="https://stfc365.sharepoint.com/:w:/r/sites/ISISMechatronics/Shared%20Documents/Beckhoff%20and%20TwinCAT/Commissioning/Axis%20and%20Controller%20Commissioning%20Guide.docx?d=w1633daef08f9435d973f8d5065b73958&amp;amp;csf=1&amp;amp;web=1&amp;amp;e=QFdAQk">Axis and Controller Commissioning Guide</a> document describing setting up a controller and TwinCAT solution for a new system and configuring real and virtual axes within TwinCAT environment.</p>
</section>
<section id="commissioning-a-new-beckhoff-on-a-beamline">
<h2>Commissioning a new Beckhoff on a beamline<a class="headerlink" href="#commissioning-a-new-beckhoff-on-a-beamline" title="Link to this heading"></a></h2>
<p>see <a class="reference internal" href="beckhoff/Beckhoff-commissioning.html"><span class="doc std std-doc">Beckhoff Commissioning</span></a></p>
</section>
<section id="ioc">
<h2>IOC<a class="headerlink" href="#ioc" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>we no longer use <a class="reference external" href="https://github.com/ISISComputingGroup/EPICS-tcIoc">tcIOC</a> for numerous reasons, the most important being the dependence on the unreliable <code class="docutils literal notranslate"><span class="pre">.tpy</span></code> file format which was preventing us from integrating the new motion standard library code. We now use <a class="reference external" href="https://github.com/ISISComputingGroup/adsDriver"><code class="docutils literal notranslate"><span class="pre">AdsDriver</span></code></a> in conjunction with <a class="reference external" href="https://github.com/ISISComputingGroup/EPICS-TwincatMotor"><code class="docutils literal notranslate"><span class="pre">TwincatMotor</span></code></a>.**</p>
</div>
<p>See <a class="reference internal" href="beckhoff/Beckhoff-architecture.html"><span class="doc std std-doc">Beckhoff IOC Architecture</span></a> for more information.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<p>see <a class="reference internal" href="beckhoff/Beckhoff-troubleshooting.html"><span class="doc std std-doc">Beckhoff troubleshooting</span></a></p>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading"></a></h2>
<p>See <a class="reference internal" href="beckhoff/Beckhoff-testing.html"><span class="doc std std-doc">Beckhoff testing</span></a></p>
</section>
<section id="updating">
<h2>Updating<a class="headerlink" href="#updating" title="Link to this heading"></a></h2>
<p>Some discussion has been had on how we handle updates to the Beckhoff PLC code and <code class="docutils literal notranslate"><span class="pre">twincatMotor</span></code> etc. this is documented <a class="reference external" href="https://stfc365.sharepoint.com/:w:/s/ISISMechatronics/EXnBTNmcqqVCkIXXxjSvYdwBD3ZihXKDE0pZpiErGnkJ1g?e=4%3AWjCJxN&amp;amp;at=9&amp;amp;CID=0DF00AB8-D565-4B81-9AA2-C0DD226434CA&amp;amp;wdLOR=c76050FF1-1FF0-4AC8-A94C-0127E17DD337">here</a></p>
</section>
<section id="further-information">
<h2>Further Information<a class="headerlink" href="#further-information" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="beckhoff/Beckhoff-architecture.html">Beckhoff IOC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="beckhoff/Beckhoff-commissioning.html">Beckhoff commissioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="beckhoff/Beckhoff-testing.html">Beckhoff testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="beckhoff/Beckhoff-troubleshooting.html">Beckhoff troubleshooting</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Attocube.html" class="btn btn-neutral float-left" title="Attocube" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="beckhoff/Beckhoff-architecture.html" class="btn btn-neutral float-right" title="Beckhoff IOC Architecture" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>