

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eurotherm &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ISIS Environment Monitor" href="ISIS-Environment-Monitor.html" />
    <link rel="prev" title="Automatic Needle Valve Controller" href="Automatic-Needle-Valve-Controller.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Cells.html">Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Choppers.html">Choppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cryogenics.html">Cryogenics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAE-and-the-ICP.html">DAE (Data Acquisition Electronics)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DAQ.html">DAQ (NI cDAQ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Datastreaming.html">Data Streaming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fluxgates.html">Fluxgates &amp; Magnetometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Gas-And-Liquid-Handling-Systems.html">Gas and liquid handling systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Imaging-Cameras.html">Imaging Cameras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Loading-Rigs.html">Loading rigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Magnets.html">Magnets &amp; Large Power Supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Motors.html">Motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Motors-Extensions.html">Motor Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Multimeters.html">Multimeters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Other.html">Other / Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PLCs.html">PLCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Polarisers-and-Analysers.html">Polarisers &amp; Analysers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Distribution-Unit-%28PDU%29.html">Power distribution units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Power-Supplies.html">Power supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Pressure-Monitors.html">Pressure monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reflectometry-IOC.html">Reflectometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Rheometers.html">Rheometers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sample-Changers.html">Sample Changers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Sensors.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Signal-Generators.html">Signal Generators</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Temperature-Controllers.html">Temperature Controllers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Ambrell-EASYHeat-Induction-Furnace.html">Ambrell EASYHeat Induction Furnace</a></li>
<li class="toctree-l3"><a class="reference internal" href="Automatic-Needle-Valve-Controller.html">Automatic Needle Valve Controller</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Eurotherm</a></li>
<li class="toctree-l3"><a class="reference internal" href="ISIS-Environment-Monitor.html">ISIS Environment Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="In-Situ-DSC.html">In-situ DSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="Induction-furnace.html">Induction furnace</a></li>
<li class="toctree-l3"><a class="reference internal" href="Julabo.html">Julabo</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lakeshore336.html">Lakeshore 336</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lakeshore340.html">Lakeshore 340</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lakeshore350.html">Lakeshore 350</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lakeshore372.html">Lakeshore 372</a></li>
<li class="toctree-l3"><a class="reference internal" href="Neocera-LTC-21.html">Neocera LTC 21</a></li>
<li class="toctree-l3"><a class="reference internal" href="OMEGA-OME-Wise.html">OMEGA OME-Wise</a></li>
<li class="toctree-l3"><a class="reference internal" href="Ral-furnaces.html">RAL Furnaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="Temperature-Jump-Apparatus.html">Temperature Jump Apparatus</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
          <li class="breadcrumb-item"><a href="../Temperature-Controllers.html">Temperature Controllers</a></li>
      <li class="breadcrumb-item active">Eurotherm</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/specific_iocs/temp_controllers/Eurotherm.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="eurotherm">
<h1>Eurotherm<a class="headerlink" href="#eurotherm" title="Link to this heading"></a></h1>
<p>The Eurotherm is one of the most common temperature controllers at ISIS. Most beamlines have at least one Eurotherm if not more.</p>
<p>Eurotherms can be calibrated by selecting a calibration file in the OPI (<code class="docutils literal notranslate"><span class="pre">None.txt</span></code> for uncalibrated to read voltage/millivolt). By default this looks at a common calibrations repository, but can be set to a instrument-specific local one via IOC macro. See <a class="reference internal" href="../../system_components/configurations/Calibration-Files.html"><span class="doc std std-doc">Calibration Files</span></a> for more info.</p>
<p><strong>To use the IOC one of the <code class="docutils literal notranslate"><span class="pre">ADDR_X</span></code> macros should be defined</strong></p>
<section id="gotchas">
<h2>Gotchas<a class="headerlink" href="#gotchas" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The IOC needs to be told which sensors it is using via macros otherwise it will not communicate with any of them</p></li>
<li><p>If the protocol timeouts are increased too much the IOC will go into alarm states as some scans depend on the timeout. Do not increase the timeout beyond the tested value in the protocol file!</p></li>
<li><p>The Eurotherm protocol uses variable terminators and the checksum comes after the termination character.</p>
<ul>
<li><p>Because of this, most commands do not read to a terminator but instead depend on getting a read timeout to terminate messages. This is achieved in streamdevice by setting <code class="docutils literal notranslate"><span class="pre">InTerminator</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></code>.</p></li>
</ul>
</li>
<li><p>There is custom timing logic in <code class="docutils literal notranslate"><span class="pre">st-timing.cmd</span></code> which attempts to set the command rate of the Eurotherm such that it can keep up with the message rate. If this logic is changed it should be tested against Eurotherms with different numbers of sensors connected (especially 6-sensor crates) to make sure that the Eurotherm can keep up in the worst-case scenario with setpoints and readbacks updating rapidly on all sensors.</p></li>
<li><p>The 2400 model has a maximum OUTPUT_RATE of 99.9 %/min, whereas the 3500 model has a maximum OUTPUT_RATE of 9999.9 %/min. The user manual for the 3500 specifies this available range, but the manual for the 2400 does not.</p></li>
<li><p>16-bit data limits mean that OUTPUT_RATE is further limited to 3276.7 %/min when modbus mode is used and the required OUTPUT_RATE_SCALING is 0.1.</p></li>
</ul>
</section>
<section id="connections">
<h2>Connections<a class="headerlink" href="#connections" title="Link to this heading"></a></h2>
<p>There are many different models of Eurotherm so they may have different connections.</p>
<p>General:</p>
<ul class="simple">
<li><p>Connection: Serial 9 Pin</p></li>
<li><p>Null terminator?: Unknown</p></li>
<li><p>Gender?: Unknown</p></li>
</ul>
<p>HRPD:</p>
<ul class="simple">
<li><p>Port: serial cable needs to be plugged into the RH 9 pin port labelled “J” not the 25 pin one labelled “H”</p></li>
</ul>
</section>
<section id="eurotherm-comms-modes">
<h2>Comms modes<a class="headerlink" href="#eurotherm-comms-modes" title="Link to this heading"></a></h2>
<p>As of <a class="reference external" href="https://github.com/ISISComputingGroup/IBEX/issues/4240">ticket 4240</a>, we can communicate with Eurotherms via either Modbus or <code class="docutils literal notranslate"><span class="pre">EI-BISYNCH</span></code> protocol. The <code class="docutils literal notranslate"><span class="pre">EI-BISYNCH</span></code> protocol is the default and is currently used for most Eurotherms at ISIS.</p>
<section id="changing-comms-mode-in-ioc">
<h3>Changing comms mode in IOC<a class="headerlink" href="#changing-comms-mode-in-ioc" title="Link to this heading"></a></h3>
<p>The modbus protocol takes the same serial comms settings as <code class="docutils literal notranslate"><span class="pre">EI-BISYNCH</span></code>. The <code class="docutils literal notranslate"><span class="pre">BITS</span></code> macro is ignored and hardcoded to 8 bits because this is part of the modbus specification. Note that baud rate and parity may change when changing the comms settings physically on a Eurotherm, so this should be double checked.</p>
<p>To choose MODBUS, set the <code class="docutils literal notranslate"><span class="pre">COMMS_MODE</span></code> macro to <code class="docutils literal notranslate"><span class="pre">modbus</span></code>. To choose <code class="docutils literal notranslate"><span class="pre">EI-bisynch</span></code>, set the <code class="docutils literal notranslate"><span class="pre">COMMS_MODE</span></code> macro to <code class="docutils literal notranslate"><span class="pre">eibisynch</span></code>. If the macro is not set, <code class="docutils literal notranslate"><span class="pre">EI-bisynch</span></code> will be used.</p>
<p>Note: if changing from <code class="docutils literal notranslate"><span class="pre">ei-bisynch</span></code> to modbus, ensure you carefully read the section below entitled “modbus scaling”</p>
</section>
<section id="changing-comms-mode-on-physical-device">
<h3>Changing comms mode on physical device<a class="headerlink" href="#changing-comms-mode-on-physical-device" title="Link to this heading"></a></h3>
<p>To change the comms settings on a physical Eurotherm box:</p>
<ul class="simple">
<li><p>Power cycle the unit while holding down the up &amp; down arrow keys simultaneously</p></li>
<li><p>Once the unit comes up asking for a passcode, enter the configuration password (for office Eurotherm, this is in keeper. For other Eurotherms on a beamline, it is probably a similar password)</p></li>
<li><p>Navigate to the “comms” menu section, scroll down to “protocol” and select <code class="docutils literal notranslate"><span class="pre">EI-BISYNCH</span></code> or <code class="docutils literal notranslate"><span class="pre">MODBUS</span></code> as appropriate</p></li>
<li><p>Check the baud rate and parity in the comms menu as this sometimes changes as you change between comms modes</p></li>
<li><p>Navigate back to the config section of the menu, and select “GOTO” -&gt; “Level 3”.</p>
<ul>
<li><p>Note that the Eurotherm <strong>WILL NOT</strong> communicate while it is in the config mode</p></li>
</ul>
</li>
<li><p>The Eurotherm should now communicate on the selected protocol.</p></li>
</ul>
</section>
<section id="comms-mode-implementation-details">
<h3>Comms mode implementation details<a class="headerlink" href="#comms-mode-implementation-details" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The comms mode is passed to the <code class="docutils literal notranslate"><span class="pre">.db</span></code> file as an <code class="docutils literal notranslate"><span class="pre">IFUSES_BISYNCH</span></code> and <code class="docutils literal notranslate"><span class="pre">IFNOTUSES_BISYNCH</span></code> macros, which are mutually exclusive. This macro is used to select between <code class="docutils literal notranslate"><span class="pre">INP</span></code> links that use streamdevice (for <code class="docutils literal notranslate"><span class="pre">EI-bisynch</span></code>) and <code class="docutils literal notranslate"><span class="pre">INP</span></code> links that use modbus (via asyn).</p></li>
<li><p>The modbus addresses are defined in <code class="docutils literal notranslate"><span class="pre">generate_substitutions.py</span></code>, which is a helper file for generating a set of <code class="docutils literal notranslate"><span class="pre">.substitutions</span></code> files for each channel. This provides substitutions for the <code class="docutils literal notranslate"><span class="pre">GAD</span></code> and <code class="docutils literal notranslate"><span class="pre">LAD</span></code> macros (needed in bisynch mode) and also the modbus addresses.</p></li>
<li><p>10 <code class="docutils literal notranslate"><span class="pre">.db</span></code> files, for each sensor number that IBEX supports, are created by the <code class="docutils literal notranslate"><span class="pre">.substitutions</span></code> files. These files correspond to a physical sensor, not a sensor number in IBEX.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">st-comms-eibisynch.cmd</span></code> and <code class="docutils literal notranslate"><span class="pre">st-comms-modbus.cmd</span></code> contain protocol-specific comms setup code in the <code class="docutils literal notranslate"><span class="pre">st.cmd</span></code>. Only one of these files will be called, depending on the value of the <code class="docutils literal notranslate"><span class="pre">COMMS_MODE</span></code> macro.</p></li>
<li><p>Both protocols are supported (via two stream interfaces) in lewis, and the same set of tests run against the Eurotherm in both modes, using a set of base tests in the IOCTestFramework.</p></li>
</ul>
</section>
</section>
<section id="modbus-scaling">
<h2>Modbus scaling<a class="headerlink" href="#modbus-scaling" title="Link to this heading"></a></h2>
<p>When setting up a Eurotherm in modbus, macros need to be set in <code class="docutils literal notranslate"><span class="pre">globals.txt</span></code> for each sensor describing the scaling.</p>
<p>The macros are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Macro</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TEMP_SCALING_1</span></code></p></td>
<td><p>Scaling factor used on sensor 1 for temperature setpoints and readbacks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">P_SCALING_1</span></code></p></td>
<td><p>Scaling factor used on sensor 1 for “P” PID parameter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">I_SCALING_1</span></code></p></td>
<td><p>Scaling factor used on sensor 1 for “I” PID parameter</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">D_SCALING_1</span></code></p></td>
<td><p>Scaling factor used on sensor 1 for “D” PID parameter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_SCALING_1</span></code></p></td>
<td><p>Scaling factor on sensor 1 used for output parameters (e.g. <code class="docutils literal notranslate"><span class="pre">MAX_OUTPUT</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_RATE_SCALING_1</span></code></p></td>
<td><p>Scaling factor on sensor 1 used for OUTPUT_RATE parameter</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>As above, for all other sensors</p></td>
</tr>
</tbody>
</table>
<p>Because of the large number of macros, these have not been added to <code class="docutils literal notranslate"><span class="pre">config.xml</span></code>, and so are only settable via <code class="docutils literal notranslate"><span class="pre">globals.txt</span></code>.</p>
<p>Note that the scaling factors can differ between sensors on a Eurotherm crate, and there is not necessarily any relationship between each of the individual scaling factors within a sensor.</p>
<p>The scaling factors are always powers of 10.</p>
<p>To determine the scaling factors, start the IOC in modbus mode, then for each parameter on each sensor, check using the Eurotherm menus that the number in the Eurotherm itself equals what IBEX reports. <strong>Check carefully</strong> as, for example, a PID parameter of <code class="docutils literal notranslate"><span class="pre">1.5</span></code> looks quite similar to <code class="docutils literal notranslate"><span class="pre">15</span></code>, but will cause temperature control to be entirely incorrect!</p>
</section>
<section id="read-rates">
<h2>Read rates<a class="headerlink" href="#read-rates" title="Link to this heading"></a></h2>
<p>Eurotherms come in a number of different configurations, namely crates with varying number of sensors. For typical baud rates, there is a limit to how much data can be communicated across a serial line. This have proven problematic in the past for configurations using 3 or more sensors. In the latest version of the IOC (3.0.0 at time of writing), the frequency of requests per sensor is inversely proportional to the number of sensors, so the overall request rate stays constant.</p>
<p>The reads are split between slow reads and fast reads. The slow reads are split into 5 blocks. When communicating with the Eurotherm, the IOC will query each block of slow reads sequentially along with a fast read. In other words, the read sequence for each sensor goes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Read</span> <span class="n">slow</span> <span class="n">block</span> <span class="mi">1</span>
<span class="n">Read</span> <span class="n">fast</span>
<span class="n">Read</span> <span class="n">slow</span> <span class="n">block</span> <span class="mi">2</span>
<span class="n">Read</span> <span class="n">fast</span>
<span class="o">...</span>
<span class="n">Read</span> <span class="n">slow</span> <span class="n">block</span> <span class="mi">5</span>
<span class="n">Read</span> <span class="n">fast</span> <span class="n">block</span>
<span class="p">[</span><span class="n">Repeat</span><span class="p">]</span>
</pre></div>
</div>
<p>The time taken for each block is defined as the variable <code class="docutils literal notranslate"><span class="pre">SECONDS_PER_READ</span></code> in <code class="docutils literal notranslate"><span class="pre">.../ioc/EUROTHRM/iocBoot/iocEUROTHRM-IOC-01/st-timing.cmd</span></code></p>
<p>The with the <code class="docutils literal notranslate"><span class="pre">SECONDS_PER_READ</span></code> set to 0.08 this would mean each block takes roughly 0.5s per sensor; <code class="docutils literal notranslate"><span class="pre">second</span> <span class="pre">per</span> <span class="pre">read</span> <span class="pre">[0.08]</span> <span class="pre">*</span> <span class="pre">(number</span> <span class="pre">of</span> <span class="pre">reads</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">fast</span> <span class="pre">block</span> <span class="pre">+</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">reads</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">slow</span> <span class="pre">block</span> <span class="pre">[3</span> <span class="pre">+</span> <span class="pre">3])</span> <span class="pre">*</span> <span class="pre">num</span> <span class="pre">of</span> <span class="pre">read</span></code>. There are 5 blocks in total so all parameters are reread every 2.5s per sensor. On a 3 sensor crate this would be a temperature read every 1.5s and a refresh of all parameters every 7.5s.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>If you’re having trouble with the Eurotherm-based automatic needle valve controller (i.e. on WISH), see <a class="reference internal" href="Automatic-Needle-Valve-Controller.html"><span class="doc std std-doc">Automatic needle valve controller wiki</span></a></p></li>
</ul>
<section id="eurotherm-not-heating">
<h3>Eurotherm not heating<a class="headerlink" href="#eurotherm-not-heating" title="Link to this heading"></a></h3>
<p>If the P,I,D, Max Output all look OK, and the setpoint readback suggests a setpoint has been sent, but the heater output remains 0, then one possibility is that the Eurotherm is in Manual not automatic mode - there is a Manual/Automatic switch on the front panel on the Eurotherm hardware. The Eurotherm IOC does not tell the Eurotherm how much power to deliver directly, it sends P,I,D and max output and the Eurotherm itself decides how much power to deliver (heater readback)</p>
</section>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ISISComputingGroup/EPICS-ioc/tree/master/EUROTHRM">Eurotherm IOC Repository</a></p></li>
<li><p><a class="reference external" href="https://github.com/ISISComputingGroup/EPICS-IOC_Test_Framework/blob/master/tests/eurotherm.py">Eurotherm IOC System Tests</a></p></li>
<li><p><a class="reference external" href="https://github.com/ISISComputingGroup/EPICS-eurotherm2k/tree/master">Eurotherm2k Support Repository</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Automatic-Needle-Valve-Controller.html" class="btn btn-neutral float-left" title="Automatic Needle Valve Controller" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ISIS-Environment-Monitor.html" class="btn btn-neutral float-right" title="ISIS Environment Monitor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Feb 27, 2026.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>