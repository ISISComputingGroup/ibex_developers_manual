

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LuaCheck &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Lua Utility Functions" href="Our-Lua-Utility-Functions.html" />
    <link rel="prev" title="Lua" href="../Lua.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../IOCs.html">EPICS IOCs &amp; Support Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../Compiling.html">Compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Creation.html">IOC Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Tips-and-Tricks.html">Tips, Tricks &amp; Techniques</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../Tools.html">Tools &amp; Support Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Asyn-Interpose-Functions.html">Asyn Interpose functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../AsynEchoDriver.html">Asyn Echo Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Autosave.html">Autosave</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Convert-Record.html">Convert record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Creating-a-State-Machine-%28Sequencer%29.html">Creating a State Machine (Sequencer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IOC-Utilities.html">IOC Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IOC-access-security.html">IOC Access Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ISIS-modules-for-file-handling.html">ISIS modules for file handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Labview-Remote.html">LabVIEW Remote</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../Lua.html">Lua</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">LuaCheck</a></li>
<li class="toctree-l4"><a class="reference internal" href="Our-Lua-Utility-Functions.html">Lua Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Serve-file-contents-over-EPICS.html">Serve file contents over EPICS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Template-Substitutions.html">Template Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Utilities-Library.html">Utilities Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aSub-records.html">Asub records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../icpconfig.html">ICP Config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
          <li class="breadcrumb-item"><a href="../../Tools.html">Tools &amp; Support Modules</a></li>
          <li class="breadcrumb-item"><a href="../Lua.html">Lua</a></li>
      <li class="breadcrumb-item active">LuaCheck</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/iocs/tools/lua/LuaCheck.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="luacheck">
<h1>LuaCheck<a class="headerlink" href="#luacheck" title="Link to this heading"></a></h1>
<section id="installing-luacheck">
<h2>Installing LuaCheck<a class="headerlink" href="#installing-luacheck" title="Link to this heading"></a></h2>
<p>Either install via the hererocks python script or luacheck by itself. The hererocks way is longer but will integrate with your environment and favourite text editor nicely as it sets up parts such as luacheck.path and luarocks</p>
<p>Via the hererocks python script:</p>
<ul class="simple">
<li><p>Download hererocks:</p>
<ul>
<li><p>Open powershell and navigate to somewhere you would like hererocks to download to</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">https://raw.githubusercontent.com/mpeterv/hererocks/latest/hererocks.py</span> <span class="pre">-OutFile</span> <span class="pre">hererocks.py</span></code></p></li>
</ul>
</li>
<li><p>Install and activate lua and luarocks:</p>
<ul>
<li><p>In an EPICS terminal navigate to where you downloaded hererocks.py and run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">hererocks.py</span> <span class="pre">lua53</span> <span class="pre">-l5.3</span> <span class="pre">-rlatest</span></code> which installs lua 5.3 into <code class="docutils literal notranslate"><span class="pre">$current</span> <span class="pre">directory$\lua53</span></code></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">$current</span> <span class="pre">directory$\lua53\bin</span></code> to your PATH where current directory is the directory you installed lua 5.3 in</p></li>
<li><p>Close and reopen your EPICS terminal to allow your PATH to update</p></li>
</ul>
</li>
<li><p>Install luacheck:</p>
<ul>
<li><p>In your new EPICS terminal run <code class="docutils literal notranslate"><span class="pre">luarocks</span> <span class="pre">install</span> <span class="pre">luacheck</span></code></p></li>
</ul>
</li>
<li><p>Luacheck is now installed</p></li>
</ul>
<p>OR install luacheck by itself:</p>
<ul class="simple">
<li><p>Go to the <a class="reference external" href="https://github.com/mpeterv/luacheck/tree/76bb56736702e8651537b2a9c10ae55ab7dc1d5d">luacheck GitHub page</a> and under Windows binary download click the download link which will download the file luacheck.exe</p></li>
<li><p>Place the luacheck.exe file in a useful place e.g. Program Files and add that location to your PATH.</p></li>
<li><p>Restart any command lines you have open.</p></li>
<li><p>Luacheck is now installed</p></li>
</ul>
</section>
<section id="using-luacheck">
<h2>Using luacheck:<a class="headerlink" href="#using-luacheck" title="Link to this heading"></a></h2>
<p>Post-install step:</p>
<ul class="simple">
<li><p>Set luacheck config:</p>
<ul>
<li><p>Create a new file <code class="docutils literal notranslate"><span class="pre">.luacheckrc</span></code> in <code class="docutils literal notranslate"><span class="pre">%LOCALAPPDATA%\Luacheck</span></code> as this is where luacheck looks for config files</p></li>
<li><p>Add the below information to the file to set the config</p></li>
<li><p>Note: This ignores setting, mutating and accessing undefined global variables. We are doing this because epics Lua uses an interactive Lua shell which requires us to use global variables in a different way to regular Lua.</p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ignore</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;111&quot;</span><span class="p">,</span> <span class="s2">&quot;112&quot;</span><span class="p">,</span> <span class="s2">&quot;113&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Basic usage: <code class="docutils literal notranslate"><span class="pre">luacheck</span> <span class="pre">file.lua</span></code></p>
<p>For more detailed instructions on the use of luacheck see the <a class="reference external" href="https://luacheck.readthedocs.io/en/stable/">luacheck documentation</a>.</p>
<p>The <a class="reference external" href="https://github.com/mpeterv/luacheck/tree/76bb56736702e8651537b2a9c10ae55ab7dc1d5d">luacheck GitHub page</a> also has information about how to use luacheck in your favourite editor.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Lua.html" class="btn btn-neutral float-left" title="Lua" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Our-Lua-Utility-Functions.html" class="btn btn-neutral float-right" title="Lua Utility Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>