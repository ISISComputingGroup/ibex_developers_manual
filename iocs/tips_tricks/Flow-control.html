

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flow control &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Handling invalid values" href="Handling-Invalid-Values.html" />
    <link rel="prev" title="Email &amp; Text alerts from IOCs" href="Email-Text-Alerts-from-IOCS.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Compiling.html">Compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Creation.html">IOC Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Testing.html">Testing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Tips-and-Tricks.html">Tips, Tricks &amp; Techniques</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Communication-layer-likes-and-dislikes-%28protocol%2C-new-devices%29.html">Comms layer likes &amp; dislikes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Email-Text-Alerts-from-IOCS.html">Email &amp; Text alerts from IOCs</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Flow control</a></li>
<li class="toctree-l3"><a class="reference internal" href="Handling-Invalid-Values.html">Handling invalid values</a></li>
<li class="toctree-l3"><a class="reference internal" href="IOC-Tips-and-Tricks.html">IOC Tips &amp; Tricks</a></li>
<li class="toctree-l3"><a class="reference internal" href="PV-with-a-limited-range.html">PV with a limited range</a></li>
<li class="toctree-l3"><a class="reference internal" href="Some-Design-thoughts-for-a-serial-or-Ethernet-IOC.html">Design thoughts for a serial or ethernet IOC</a></li>
<li class="toctree-l3"><a class="reference internal" href="Stream-Device-Tips-and-Tricks.html">Stream Device Tips and Tricks</a></li>
<li class="toctree-l3"><a class="reference internal" href="Using-IP-rather-than-nport-with-MOXA-%28RFC-2217%29.html">Using IP rather than NPORT (RFC 2217)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tools.html">Tools &amp; Support Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
          <li class="breadcrumb-item"><a href="../Tips-and-Tricks.html">Tips, Tricks &amp; Techniques</a></li>
      <li class="breadcrumb-item active">Flow control</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/iocs/tips_tricks/Flow-control.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="flow-control">
<h1>Flow control<a class="headerlink" href="#flow-control" title="Link to this heading"></a></h1>
<p>Flow control is used in serial devices to allow them to better communicate when they are ready to send/receive data. For most devices it should be switched off, unless we know for sure that the device needs to use it. We have seen a number of cases in the past where having it on when not necessary has caused issues.</p>
<p>All IOCs should set this because when connecting to a port if you don’t set it the previous value may be used, i.e. if it had the flow control on for the last device the moxa may remember that setting for the next device.</p>
<p>Flow control comes in two varieties, <a class="reference external" href="https://en.wikipedia.org/wiki/Flow_control_(data)#Hardware_flow_control">hardware</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/Software_flow_control">software</a>.</p>
<section id="hardware-flow-control">
<h2>Hardware flow control<a class="headerlink" href="#hardware-flow-control" title="Link to this heading"></a></h2>
<p>Set <em>off</em> (probably the most used)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;, 0, &quot;clocal&quot;, &quot;Y&quot;)
    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;,0,&quot;crtscts&quot;,&quot;N&quot;)
</pre></div>
</div>
<p>Set <em>on</em> using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;, 0, &quot;clocal&quot;, &quot;N&quot;)
    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;,0,&quot;crtscts&quot;,&quot;Y&quot;)
</pre></div>
</div>
<p>in the device’s <code class="docutils literal notranslate"><span class="pre">st.cmd</span></code>. To turn this off set it to <code class="docutils literal notranslate"><span class="pre">N</span></code> or remove the line completely. Under windows there is a further option to set it to <code class="docutils literal notranslate"><span class="pre">D</span></code> which ensures the hardware lines are floating (this is usually unnecessary).</p>
</section>
<section id="software-flow-control">
<h2>Software flow control<a class="headerlink" href="#software-flow-control" title="Link to this heading"></a></h2>
<p>In the device’s <code class="docutils literal notranslate"><span class="pre">st.cmd</span></code>:</p>
<p>Set <em>off</em> using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;,0,&quot;ixon&quot;,&quot;N&quot;) 
    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;,0,&quot;ixoff&quot;,&quot;N&quot;) 
</pre></div>
</div>
<p>Set <em>on</em> using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;,0,&quot;ixon&quot;,&quot;Y&quot;) 
    $(IFNOTDEVSIM) $(IFNOTRECSIM) asynSetOption(&quot;L0&quot;,0,&quot;ixoff&quot;,&quot;Y&quot;) 
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Email-Text-Alerts-from-IOCS.html" class="btn btn-neutral float-left" title="Email &amp; Text alerts from IOCs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Handling-Invalid-Values.html" class="btn btn-neutral float-right" title="Handling invalid values" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>