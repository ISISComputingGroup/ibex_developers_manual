

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python Dependencies &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Virtual environments (uv)" href="Python-venvs.html" />
    <link rel="prev" title="Python Conventions" href="Python-conventions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../System-components.html">Backend System Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ActiveMQ.html">ActiveMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Alarms.html">Alarms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BlockServer.html">BlockServer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CSS-Archive-Engine.html">CS-Studio Archive Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Central-archiver-appliance.html">Central archiver appliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DatabaseServer.html">Database Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Gateway.html">Gateways</a></li>
<li class="toctree-l2"><a class="reference internal" href="../IOC-message-logging.html">IOC Message Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Inst-etc-IOC.html"><code class="docutils literal notranslate"><span class="pre">INSTETC</span></code> IOC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Journal-Viewer.html">Journals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../LabVIEW.html">LabVIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Logging-from-the-archive.html">Logging from the archive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MySQL-Database.html">MySQL database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Nicos.html">NICOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PVAccess-gateways-%28p4p%29.html">PVAccess Gateways</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Python.html">Python (including Uktena, <code class="docutils literal notranslate"><span class="pre">uv</span></code>)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Building-and-installing-uktena.html">Building and installing Uktena</a></li>
<li class="toctree-l3"><a class="reference internal" href="Graylog.html">Graylog</a></li>
<li class="toctree-l3"><a class="reference internal" href="Python-Circular-Dependencies-Resolution.html">Python Circular Dependencies Resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="Python-conventions.html">Python Conventions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Python Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="Python-venvs.html">Virtual environments (<code class="docutils literal notranslate"><span class="pre">uv</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Remote-IOCs.html">Remote IOC Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Run-control.html">Run Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Settings-and-Configurations.html">Settings &amp; Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Startup-and-Shutdown.html">Startup and Shutdown</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../System-components.html">Backend System Components</a></li>
          <li class="breadcrumb-item"><a href="../Python.html">Python (including Uktena, <code class="docutils literal notranslate"><span class="pre">uv</span></code>)</a></li>
      <li class="breadcrumb-item active">Python Dependencies</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/system_components/python/Python-dependencies.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="python-dependencies">
<h1>Python Dependencies<a class="headerlink" href="#python-dependencies" title="Link to this heading">ÔÉÅ</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Much of the information on this page is now obsolete.</p>
<p>The split of library and distribution was done in <a class="reference external" href="https://github.com/ISISComputingGroup/IBEX/issues/8381">ticket 8381</a></p>
<p><code class="docutils literal notranslate"><span class="pre">genie_python</span></code> can now be installed via <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
</div>
<p>This page as much as possible distinguishes between the standard Python version installed on instruments/developer machines and the <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> module that is actually used to communicate with IBEX. These have historically been conflated by both users and developers, leading to the problems outlined in below.</p>
<section id="how-python-dependencies-were-historically-handled">
<h2>How Python Dependencies were Historically Handled<a class="headerlink" href="#how-python-dependencies-were-historically-handled" title="Link to this heading">ÔÉÅ</a></h2>
<p>Historically when a new Python module was required by any part of the IBEX system it was added as a requirement to the singular standard python installation. As the project has grown this has lead to a number of problems:</p>
<ul class="simple">
<li><p>It is unclear where and how our dependencies are used particularly the split between dependencies of the server, client and of a scientist using <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> alongside other tools</p></li>
<li><p>Increased risk that dependency updates will break something</p></li>
<li><p>Additional overhead in what we are giving to users as their Python client</p></li>
<li><p>Conflict of requirements between projects</p></li>
</ul>
</section>
<section id="how-python-dependencies-should-be-handled-in-the-future">
<h2>How Python Dependencies should be Handled in the Future<a class="headerlink" href="#how-python-dependencies-should-be-handled-in-the-future" title="Link to this heading">ÔÉÅ</a></h2>
<p>To move away from this it was decided by Freddie, Dom, Tom and John in a meeting on 19/05/2020 that we should aim instead for a system where every Python project within the IBEX system had it‚Äôs own requirements listed in a <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> and ran in a separate clean <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>. This is obviously a large change to the system so it was proposed that rather than do this in one go:</p>
<ul class="simple">
<li><p>Every time a new requirement is added to the system going forward the project that needed it be adapted to conform to the new model</p></li>
<li><p>Every time a new Python project is started it uses the model described above</p></li>
</ul>
<p>Currently, because of the conflation between the <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> module and the installed Python, there is no easy mechanism to install <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> into a clean <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> and so it is impossible to move to the proposed model. To fix this we should make <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> able to be installed via <code class="docutils literal notranslate"><span class="pre">pip</span></code> (see <a class="reference external" href="https://github.com/ISISComputingGroup/IBEX/issues/3571">here</a>). In the meantime a virtual environment should be created with all of the installed modules of the parent Python, this can be done using <code class="docutils literal notranslate"><span class="pre">virtualenv</span> <span class="pre">my_env</span> <span class="pre">--system-site-packages</span></code>. You should assume that all you are inheriting is the <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> module and still list requirements even if you know they will come with the Parent python. In this way we should be able to remove dependencies in the installed python version without affecting your module.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Python-conventions.html" class="btn btn-neutral float-left" title="Python Conventions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Python-venvs.html" class="btn btn-neutral float-right" title="Virtual environments (uv)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>