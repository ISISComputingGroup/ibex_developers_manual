

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Slow PV Reconnections &mdash; IBEX Developer&#39;s Manual</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e6a88b47" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Design Documents" href="../GUI-Design.html" />
    <link rel="prev" title="PyDEV Autocompletion" href="Pydev-autocomplete-issue.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IBEX Developer's Manual
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Editing-the-Wiki.html">Editing this Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Interfaces &amp; Scripting</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../Client.html">IBEX GUI (Eclipse)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../GUI-Building.html">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GUI-Coding.html">Coding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GUI-Testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GUI-Eclipse.html">Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GUI-CSS.html">CS-Studio Views in the GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GUI-Other.html">Miscellaneous</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../GUI-Troubleshooting.html">GUI Troubleshooting</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Debugging-memory-leaks-in-the-IBEX-GUI.html">Debugging memory leaks in the IBEX GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="Java-Resource-Usage-Tools.html">Java Memory and CPU Profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="PV-Manager-and-Observers-Logging.html">PVManager &amp; Observers Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="Pydev-autocomplete-issue.html">PyDEV Autocompletion</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Slow PV Reconnections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../GUI-Design.html">Design Documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scripting.html">Scripting (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Web.html">Web Dashboard &amp; Chat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IBEX Server &amp; Systems</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../System-components.html">Backend System Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../IOCs.html">EPICS IOCs &amp; Support Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Specific-IOCs.html">Specific Devices &amp; IOCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Systems.html">Systems Administration &amp; Hardware</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Processes &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Providing-Support.html">Providing Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deployment.html">Releases &amp; Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Processes.html">Processes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IBEX Developer's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Client.html">IBEX GUI (Eclipse)</a></li>
          <li class="breadcrumb-item"><a href="../GUI-Troubleshooting.html">GUI Troubleshooting</a></li>
      <li class="breadcrumb-item active">Slow PV Reconnections</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_developers_manual/blob/master/doc/client/troubleshooting/Slow-reconnection-in-the-GUI.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="slow-pv-reconnections">
<h1>Slow PV Reconnections<a class="headerlink" href="#slow-pv-reconnections" title="Link to this heading"></a></h1>
<p>This document is based on the findings of <a class="reference external" href="https://github.com/ISISComputingGroup/IBEX/issues/1971">#1971</a>.</p>
<section id="running-on-the-local-machine-ndxdemo">
<h2>Running on the local machine (NDXDEMO)<a class="headerlink" href="#running-on-the-local-machine-ndxdemo" title="Link to this heading"></a></h2>
<p>IOC off for between 12 and 24 hours typically gives the following results:</p>
<p>Camonitor connects after &lt;5 seconds
Vanilla CS-Studio 3 and 4 OPI &lt; 30 seconds (only one PV on OPI)
IBEX OPI ~1 minute</p>
<p>The different fields on the IBEX OPI reconnect at different times.</p>
</section>
<section id="running-on-the-local-machine-my-pc">
<h2>Running on the local machine (my PC)<a class="headerlink" href="#running-on-the-local-machine-my-pc" title="Link to this heading"></a></h2>
<p>Similar except the IBEX OPI can take significantly longer sometimes (&gt; 40 minutes!)</p>
<p>Could this be related to excessive IOC log production on my machine?</p>
</section>
<section id="client-running-on-a-different-machine-to-ndxdemo">
<h2>Client running on a different machine to NDXDEMO<a class="headerlink" href="#client-running-on-a-different-machine-to-ndxdemo" title="Link to this heading"></a></h2>
<p>The client and camonitor can take a long time to reconnect, anything from a few seconds to 5 minutes.
Disabling the gateway on NDXDEMO and running a client/camonitor on the same subnet (i.e. no gateways involved) connects much quicker.
Note: this was for a spectrum data PV.</p>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Link to this heading"></a></h2>
<p>ISSUE 1: Something about the gateways means that remote clients don’t respond well to IOCs turning off then back on. Though starting a new client usually connects straightaway.</p>
<p>ISSUE 2: IBEX’s OPIs take longer to reconnect than vanilla CS-Studio does. The longer the IOC is off the worse it tends to be.
* Is it because IBEX is doing a lot generally, e.g. logs, blocks, etc?
* Could it be that the PVManager has connected fine, but the GUI is not being updated immediately because the GUI thread is busy? Once the PV has been connected to the value updates come through right away though.
* Or is it something else?</p>
<p>Anecdotal evidence suggests that the “busier” IBEX is the longer it takes to reconnect.
Busier means more logs, blocks etc. - this could relate to the amount of memory being used by JVM.</p>
<p>BTW: Blocks and OPI values are inconsistent on which comes back first.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Pydev-autocomplete-issue.html" class="btn btn-neutral float-left" title="PyDEV Autocompletion" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../GUI-Design.html" class="btn btn-neutral float-right" title="Design Documents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Oct 31, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>